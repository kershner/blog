{% extends "/blog/base.html" %}
{% block content %}

<div class="grey">
    <div class="container">
	    <div class="row">
		    <div class="col-lg-8 col-lg-offset-2">
			    <img src="/static/images/dogsicons/dogsicon7.png"><span class="ba">Tyler Kershner</span>
				<h2>Gaining Experience</h2>
                <h4 class="bd">September 23rd, 2014</h4>
                <hr>
				<p>
                    <strong>My first professional programming-related project is complete.</strong>
                    <br><br>
                    Check it out at the official site, <a href="http://www.ycsfirstchoice.com">http://www.ycsfirstchoice.com</a>, or
                    at the projects section here on my blog.  Building the site and working with actual clients was a fantastic
                    learning experience.  Even though the site was fairly simple from a code-complexity standpoint, the entire
                    process has taught me so much and better prepared me for future opportunities.
                    <br><br>
                    I'm going to continue helping the YCS Board with maintaining the site through the November election, as I think
                    they're a great group of people and I'm happy to help.  In the meantime I'm going to pursue some additional
                    local web development work and if that doesn't end up panning out immediately I'll start back up with my
                    Steam API project from a few weeks ago.  Always plenty to do.
                    <br><br>
                    <a class="top-link" href="http://www.ycsfirstchoice.com">ycsfirstchoice.com</a>

				</p>

			</div>
        </div><!-- /row -->
	</div> <!-- /container -->
</div>

<a name="api-hijinks"></a>
<div class="white">
    <div class="container">
	    <div class="row">
		    <div class="col-lg-8 col-lg-offset-2">
			    <img src="/static/images/dogsicons/dogsicon2.png"><span class="ba">Tyler Kershner</span>
				<h2>API Hijinks</h2>
                <h4 class="bd">September 10th, 2014</h4>
                <hr>
				<p>
                    <strong>In small bits of my spare time I've been investigating the <a href="https://developer.valvesoftware.com/wiki/Steam_Web_API">Steam API</a></strong>.<br><br>
                    I'm looking to eventually make a simple app that will create a word cloud-like visualization of a Steam user's hours played for each game they
                    own.  Well, that's the idea anyway!<br><br>
                    I'll walk through a basic script I've been working on below.
				</p>
                <pre><code data-language="python">import urllib2
import json

# Two different API urls - Steam uses different URLs for different services within the API
API_URL = 'http://api.steampowered.com/IPlayerService/GetOwnedGames/v0001/'
API_URL_STEAMID = 'http://api.steampowered.com/ISteamUser/ResolveVanityURL/v0001/'
API_KEY = 'XXXXXXXXXXXXXXXXXXXXXXXXXXXX'
</code></pre>
                <p>
                    The Steam Web API can output its response in either XML or JSON, and of course I chose JSON because
                    I'm familiar with it, it works well with Python, and it's just plain cleaner than XML.<br><br>
                    As I've noted in the comment, the API uses different URLs for different services.  So you'll end up
                    using one URL for player data and a different one for game data, for example.
                </p>

                <pre><code data-language="python">user_input = raw_input('Enter your steam profile name: > ').lower()

try:
    steam_id = json.loads(urllib2.urlopen('%s?key=%s&vanityurl=%s' %
                                          (API_URL_STEAMID, API_KEY, user_input)).read())['response']['steamid']

    # Don't forget to include_appinfo=1 for extra data about entries
    api_call = urllib2.urlopen('%s?key=%s&steamid=%s&format=json&include_appinfo=1' % (API_URL, API_KEY, steam_id))
    data = json.loads(api_call.read())
</code></pre>
                <p>
                    Here I'm grabbing the user's provided Steam profile name and adding it to the API's SteamID URL
                    to return their corresponding 64-bit Steam ID, which is how the API identifies the user. I should
                    note that in my finalized app I'll need to account for both a Steam vanity URL and the plain 17-digit SteamID as inputs
                    in case the user has not yet established a vanity URL.<br><br>
                    The finalized URL is fed to <a href="https://docs.python.org/2/library/urllib2.html#urllib2.urlopen">urllib2.urlopen()</a> and
                    becomes my actual API call.  The response is then decoded by
                    <a href="https://docs.python.org/2/library/json.html#json.loads">json.loads()</a> and read by Python.
                </p>
    <pre><code data-language="python">
    minutes_played = []

    for game in data['response']['games']:
        minutes_played.append([game['name'], game['playtime_forever']])

    # Using a reverse sort by the 2nd index of each entry in minutes_played
    minutes_played = sorted(minutes_played, key=lambda entry: entry[1], reverse=True)
</code></pre>
                <p>
                    Here I'm extracting a piece of data provided by the API call: the specified user's total playtime (since 2009 when Steam began
                    collecting total playtime data) for the games in their library.  I then use Python's <a href="https://docs.python.org/2/library/functions.html#sorted">sorted()</a>
                    function (with the reverse argument) to create a new list sorted by the index containing the playtime data in descending order.<br><br>
                    In order to sort the list by the correct index (sorting by the game's name would be useless to me!) I had to make use of a yet-unknown concept to me: <a href="https://docs.python.org/2/reference/expressions.html#lambda">Lambda</a>.
                    Lambda is apparently pretty confusing for many aspiring programmers, and I certainly don't fully understand it just yet.  As far as I can gather it's used as an 'anonymous' or
                    'one-off' function as a sort of shortcut to save space/cut down on verbosity within other operations.  I'll be looking into it more to try and wrap my head around it further.
                </p>
    <pre><code data-language="python">
    counter = 0
    print '##################################################'
    print '#   %s\'s Top 5 Most' % user_input
    print '#   Played Steam Games'
    print '##################################################'
    for entry in minutes_played:
        if counter == 5:
            break
        else:
            print '#   ' + str(entry[0]) + ' -- %d hours' % (entry[1] / 60)
            counter += 1
    print '##################################################'

except KeyError:
    print '\nInvalid profile name, please try again.'</code></pre>
                <p>
                    And the final part - the output!  I create a counter variable because for this simple script I only want the top 5
                    most played games to display.  The except clause is there to catch an invalid profile name/ID.<br><br>
                    And here's what the output looks like:
                </p>
    <pre><code>Enter your steam profile name: > billcrystals

##################################################
#   billcrystals's Top 5 Most
#   Played Steam Games
##################################################
#   Left 4 Dead 2 -- 882 hours
#   The Elder Scrolls V: Skyrim -- 200 hours
#   Battlefield: Bad Company 2 -- 128 hours
#   DayZ -- 96 hours
#   Left 4 Dead -- 85 hours
##################################################</code></pre>
                <p>
                    And there you have it!  Apparently I've played entirely too much Left 4 Dead 2.<br><br>I think I've got a great
                    start on this project.  Next up I will be building the algorithm to create the histogram/word cloud-like size variance
                    of the individual game playtimes, and from there it's on to the front end for the website.<br><br>
                    I'll find some time to continue working on the project and hopefully have a completed application to show off soon.<br><br>
                    Thanks for reading!
                </p>

			</div>
        </div><!-- /row -->
	</div>
</div>

<div class="grey">
    <div class="container">
	    <div class="row">
		    <div class="col-lg-8 col-lg-offset-2">
			    <img src="/static/images/dogsicons/dogsicon3.png"><span class="ba">Tyler Kershner</span>
				<h2>Professional?</h2>
                <h4 class="bd">September 3rd, 2014</h4>
                <hr>
				<p>
                    <strong>Well, roughly six months</strong> after I started teaching myself to program in earnest I'm nearing completion
                    of my first paying gig.  I'm keeping it under wraps for now until it officially launches, but it's a pretty standard
                    webdev job - more or less just setting up a static website, but with the added expectations of a paying client forcing a level of
                    quality and professionalism I haven't yet been required to undertake.  It's a good kind of pressure, and the project
                    is coming along nicely.<br><br>
                    I just wanted to reflect on my progress toward a more satisfying career in computer science and maybe indulge in
                    a little back-patting for a moment.<br><br>
                    Alright, enough of that.  I'm still a crappy amateur programmer, back to work!
				</p>

			</div>
        </div><!-- /row -->
	</div> <!-- /container -->
</div>

{% endblock %}